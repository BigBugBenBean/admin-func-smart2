<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="layout">
<head>
    <meta charset="UTF-8"></meta>
    <title>e-Services Admin Function</title>

    <link rel="stylesheet" href="/adminfunc/css/surge-control.css"/>

    <script type="text/javascript">
        $(function () {
            let names = [
                {
                    'appID': '500',
                    'GST': '20/20',
                    'Desc': '',
                    'MST': '22/30',
                    'Priority': '1',
                    'Clawback': '123'
                }
            ];

            let grid = $("#surgeControlGrid");
            // console.log(grid);



            grid.jsGrid(
                {
                    width: '100%',
                    height: '100%',

                    sorting: true,
                    noDataContent: 'NO data',
                    selecting: false,
                    editing: false,

                    data: names,

                    // paging: true,
                    // pageSize: 5,
                    // pageButtonCount: 5,
                    // pagerContainer: '#externalPager',
                    // pagerFormat: `current page: {pageIndex}  &nbsp;&nbsp; {first} {prev} <select> <option> {pages} </option> </select>  {next} {last} &nbsp;&nbsp; total pages: {pageCount}`,
                    // pagePrevText: 'prev',
                    // pageNextText: 'next',
                    // pageFirstText: 'first',
                    // pageLastText: 'last',
                    // pageNavigatorNextText: '&#8230;',
                    // pageNavigatorPrevText: '&#8230;',

                    fields: [
                        { name: 'appID', title: 'App ID', type: 'text', width: 40, headerTemplate: commonHeader },
                        { name: 'GST', title: 'GST (Usage/Assigned)', type: 'text', width: 80, headerTemplate: commonHeader },
                        { name: 'desc', title: 'Description', type: 'text', width: 50, headerTemplate: commonHeader },
                        { name: 'MST', title: 'MST (Usage/Assigned)', type: 'text', width: 80, headerTemplate: commonHeader },
                        { name: 'Priority', title: 'Priority', type: 'text', width: 40, headerTemplate: commonHeader, editable: true, edittype: 'select', editoptions: {value: "ALFKI:ALFKI;WOLZA:WOLZA"}   },
                        { name: 'Clawback', title: 'Clawback', type: "checkbox", editType: 'checkbox', width: 80, headerTemplate: commonHeader, editoptions: { value: 'true:false' }, formatter: 'checkbox', formatoptions: {disabled: false } }
                        // {
                        //     type: 'control',
                        //     headerTemplate: function () {
                        //         let title = '<span></span>';
                        //         return title;
                        //     },
                        //     itemTemplate: function (value, item) {
                        //         let result = jsGrid.fields.control.prototype.itemTemplate.apply(this, arguments);
                        //
                        //         let str = '';
                        //
                        //         str += '<div>';
                        //         str += '<input type="button" class="SmallButtonStyle" value="Update" />';
                        //         str += '</div>';
                        //
                        //         result = str;
                        //         // result = result.add(str);
                        //
                        //         return result;
                        //     }
                        // }
                    ]

                    // ,gridComplete: function () {
                    //     alert('gridComplete');
                    //     console.log('gridComplete');
                    // }

                }
            )
        });
    </script>

</head>
<body>
<div>


    <div layout:fragment="header(${ROOT})"></div>

    <div layout:fragment="content" style="">
        <div class="content-padding">

            <div style=" margin-top: 1.5em; width: 100%; height: 200px;">
                <div id="surgeControlGrid"></div>
            </div>
            <div class="data-grid-footer">&nbsp;</div>

            <div class="flex-container" style="padding-top: 10px;">
                <div class="flex-item-1" >
                    <span style="color: red;" th:text="${#messages.msg('umps.adminfunc.surgecontrol.update.message')}"></span>
                </div>
                <div class="flex-item-1" style="min-width: 320px; ">
                    <a th:href="@{/e-Services-2/maintenance/surgeControl_Edit.do}">
                        <input type="text" class="ButtonStyle edit-btn" style="width: 250px;" th:value="${#messages.msg('umps.adminfunc.common.backtoeditconfig')}" />
                    </a>
                </div>
            </div>



            <div style="padding-top: 10px;">
                <div th:replace="fragments/surge-control-footer::surgeControlFooter" ></div>
            </div>



        </div>
    </div>


</div>
</body>
</html>