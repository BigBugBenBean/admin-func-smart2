<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="layout">
<head>
    <meta charset="UTF-8"></meta>
    <title>SMARTICS-2 Admin Function</title>

    <link rel="stylesheet" href="/adminfunc/css/enquiry-code.css"/>

    <script th:inline="javascript" th:if="${enquiryCodeInformationDTO}">
    /*<![CDATA[*/

    $(document).ready(function () {
        console.log('ABI1');
        var dto = [[${enquiryCodeInformationDTO}]];
        console.log('dto: ', dto);
        console.log('ABI2');

        var dob = '';
        if (dto.dobDay && dto.dobMonth && dob.Year) {
            dob = dto.dobDay + '/' + dto.dobMonth + '/' + dto.dobYear;
        }
        $("#dobSpan").text(dob);

        var grid = $("#dataGrid");
            var gridConfig = {
                width: '100%',
                height: '260px',

                sorting: true,
                noDataContent: 'NO data',
                selecting: false,

                autoload: true,

                // paging: true,
                // pageLoading: true,
                // pageSize: recordPerPage,

                data: dto.searchResults,

                // controller: {
                //     loadData: function (filter) {
                //         var startIndex = (filter.pageIndex - 1) * filter.pageSize;
                //         return {
                //             data: list.slice(startIndex, startIndex + filter.pageSize),
                //             itemCount: list.length
                //         };
                //     }
                // },

                fields: [
                    { name: 'transDateTime', title: 'Tx Date Time', type: 'text', width: 20, headerTemplate: commonHeader },
                    { name: 'appType', title: 'App Type', type: 'text', width: 20, headerTemplate: commonHeader },
                    { name: 'appDateTime', title: 'App Date Time', type: 'text', width: 20, headerTemplate: commonHeader },
                    { name: 'appointmentOffice', title: 'Appointment Office', type: 'text', width: 20, headerTemplate: commonHeader },
                    { name: 'applicantId', title: 'Applicant ID', type: 'text', width: 20, headerTemplate: commonHeader },
                    { name: 'dob', title: 'DOB', type: 'text', width: 20, headerTemplate: commonHeader },
                    { name: 'trn', title: 'TRN', type: 'text', width: 30, headerTemplate: commonHeader },
                    { name: 'channel', title: 'Channel', type: 'text', width: 20, headerTemplate: commonHeader },
                    { name: 'status', title: 'Status', type: 'text', width: 10, headerTemplate: commonHeader },
                    { name: 'enquiryCode', title: 'Enquiry Code', type: 'text', width: 20, headerTemplate: commonHeader }
                ]
            };
            grid.jsGrid(gridConfig);
    });

    /*]]>*/
    </script>
</head>
<body>
<div>

    <div layout:fragment="header(${ROOT})"></div>

    <div layout:fragment="content">
        <div class="content-padding">
            <div>
                <form th:object="${enquiryCodeInformationDTO}">
                    <div>
                        <div class="flex-container">
                            <div class="flex-item-1">
                                <b><span th:text="${#messages.msg('umps.adminfunc.common.searchResult')}"></span></b>
                            </div>
                            <div class="flex-item-auto">
                                <!--<input class="SmallButtonStyle pointer" id="" style="min-width: 80px;" type="button" th:value="${#messages.msg('umps.adminfunc.common.printThisPage')}" />-->
                            </div>
                        </div>
                        <div>
                            <div class="RowSeparatorThin"></div>
                            <div class="flex-container">
                                <div class="flex-item-2 search-result-left"><b><span th:text="${#messages.msg('umps.adminfunc.enquiryCodeInfo.hkic')}"></span></b></div>
                                <div class="flex-item-7 search-result-right">
                                    <span th:text="*{hkic}"/>
                                    <input type="hidden" th:field="*{hkic}"/>
                                </div>
                            </div>
                            <div class="RowSeparatorThin"></div>
                            <div class="flex-container">
                                <div class="flex-item-2 search-result-left"><b><span th:text="${#messages.msg('umps.adminfunc.enquiryCodeInfo.tdNo')}"></span></b></div>
                                <div class="flex-item-7 search-result-right">
                                    <span th:text="*{tdNo}"/>
                                    <input type="hidden" th:field="*{tdNo}"/>
                                </div>
                            </div>
                            <div class="RowSeparatorThin"></div>
                            <div class="flex-container">
                                <div class="flex-item-2 search-result-left"><b><span th:text="${#messages.msg('umps.adminfunc.enquiryCodeInfo.dob')}"></span></b></div>
                                <div class="flex-item-7 search-result-right">
                                    <!--<span th:text="*{dobDay} + '/' + *{dobMonth} + '/' + *{dobYear}"/>-->
                                    <span id="dobSpan"></span>
                                    <input type="hidden" th:field="*{dobDay}"/>
                                    <input type="hidden" th:field="*{dobMonth}"/>
                                    <input type="hidden" th:field="*{dobYear}"/>
                                </div>
                            </div>
                            <div class="RowSeparatorThin"></div>
                            <div class="flex-container">
                                <div class="flex-item-2 search-result-left"><b><span th:text="${#messages.msg('umps.adminfunc.enquiryCodeInfo.appointmentType')}"></span></b></div>
                                <div class="flex-item-7 search-result-right">
                                    <span th:text="*{appointmentType}"/>
                                    <input type="hidden" th:field="*{appointmentType}"/>
                                </div>
                            </div>
                            <!--<div class="RowSeparatorThin"></div>-->


                            <div class="RowSeparator"></div>
                        </div>
                    </div>

                    <div style="margin-top: 1em;  ">
                        <!--<div class="flex-container grid-page-header">-->
                        <!--<div style="flex: auto;"></div>-->
                        <!--<div>-->
                        <!--<span class="grid-page-header-text" th:text="${#messages.msg('umps.adminfunc.common.pagination.recordPerPage')}"></span>-->
                        <!--<span>-->
                        <!--<select id="totalPager"></select>-->
                        <!--</span>-->
                        <!--<span class="grid-page-header-text" style="padding-left: 10px;" th:text="${#messages.msg('umps.adminfunc.common.pagination.pageNo')}"></span>-->
                        <!--<span>-->
                        <!--<select id="numPager"></select>-->
                        <!--</span>-->
                        <!--</div>-->
                        <!--</div>-->
                        <div>
                            <div id="dataGrid"></div>
                        </div>
                        <div class="grid-page-header" style="height: 30px;">&nbsp;</div>
                    </div>

                    <div class="flex-container" style="padding-top: 30px;">
                        <div style="flex: auto;"></div>
                        <div>
                            <a th:href="@{/smartics2/enquiry/enquiryCodeInformation.do}">
                                <input class="SmallButtonStyle pointer" id="" style="min-width: 80px;" type="button" th:value="${#messages.msg('umps.adminfunc.common.backToSearchCriteria')}" />
                            </a>
                        </div>
                    </div>

                    <div style="padding-top: 10px;">
                        <div th:replace="fragments/appointment-booking-enquiry-footer::appointmentBookingEnquiryFooter" ></div>
                    </div>
                </form>
            </div>
        </div>
    </div>

</div>
</body>
</html>